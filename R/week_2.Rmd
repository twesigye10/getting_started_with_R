---
title: "week_2"
author: "REACH"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = FALSE, echo = TRUE, warning = F, message = F, results = "hide")
```

# Reading and manipulating data

In order to manipulate data, we need to create, read/import data into the R environment using appropriate functions.
We can use functions provided in the base system where applicable or functions in other containers (packages) specialized for specific file types. 

## Extending R base functionality with packages

### What are packages
R comes with functionality in the base system. This functionality is what you get when you download and install R.
This can be extended using containers (packages) that have other functionality or different implementation. These packages contain functions to perform specific tasks.

### Package installation

For packages on The Comprehensive R Archive Network (CRAN), you can install them using the **install.packages()** function, specifying the name of the function in quotes. This can be done in the console pane since we do not need to save this in a script.

> The code below will install all tidyverse related packages.
**[tidyverse](https://www.tidyverse.org/)** is a group of packages designed with a similar philosophy, grammar, and data structures aimed at simplifying data management and analysis.

```{r}
install.packages("tidyverse")
```

**NOTE** For packages under development by developers that may not be on CRAN, we can install them using the **devtools** or **remotes** packages. Let us install the **devtools** package with **install.packages("devtools")**.

> We can now install a package using devtools

```{r}
install.packages("devtools")

devtools::install_github("twesigye10/supporteR")

```

### Package loading

We can load packages using the **library()** function. 

```{r}
library(tidyverse)
library(supporteR)

```

Before we start reading and writing files, let us add more sub folders to our project.

We can use `supporteR` to easily create sub folders in our project using the  `**create_project_sub_folders()**` function. This will help us to keep the folder names uniform as we walk the journey together. You can write the following code in the console and hit enter.

```{r}
supporteR::create_project_sub_folders()
```

## Reading and writing files

We are going to use `iris` data that is included the `datasets` package. This data has been exported into a `csv` for illustration purposes. We are now going to read in this data stored in the `inputs` folder of the project.

```{r}
library(tidyverse)
# read_csv is a function inside readr package of tidyverse
df_iris <- read_csv("inputs/iris_data.csv")

```

We can also write a `csv` file using the same approach but with the `write_csv()` function from the same `readr` package.

```{r}
library(tidyverse)
# write_csv is a function inside readr package of tidyverse
write_csv(x = df_iris, file = "outputs/iris_exported_data.csv")

```

## Manipulating data

### select

We use the `select()` functions to subset columns. That is to choose/remove columns of interest from the data frame.

With `iris` example we are going to select columns of interest by

```{r}
library(tidyverse)
df_iris <- read_csv("inputs/iris_data.csv")

select(.data = df_iris, Species, Petal.Length)
select(.data = df_iris, c("Species", "Petal.Length"))
# another way. Using a pattern
select(.data = df_iris, starts_with("Sepal."))

select(.data = df_iris, ends_with(".Width"))

```

### filter

### mutate

### rename

### summarise


## Pipes

combine reading data and adding columns
